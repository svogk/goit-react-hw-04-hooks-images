{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","apiService/apiService.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchValue","setSearchValue","className","s","Searchbar","SearchForm","event","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","largeImageURL","webformatURL","tags","onShowLargeImage","imageGalleryItem","imageGalleryItemImage","url","src","alt","onClick","ImageGallery","hits","imageGallery","map","id","Loader","loading","size","color","Button","boxButton","button","modalRoot","document","querySelector","Modal","onClose","onOpenLargeImage","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","overlay","target","modal","apiService","fetchHits","searchQuery","page","fetch","then","response","json","App","setSearchQuery","setPage","setHits","setLoading","largeImage","setLargeImage","showModal","setShowModal","data","prevState","catch","console","finally","scrollTo","top","documentElement","scrollHeight","behavior","buttonIsVisible","length","app","query","boxSpinner","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.94179362.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__yFMmE\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__mNABJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxButton\":\"Button_boxButton__1gHOe\",\"button\":\"Button_button__ISyvo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3CIu8\",\"modal\":\"Modal_modal__1fX_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2uooO\",\"boxSpinner\":\"App_boxSpinner__2ndPf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2qkrM\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function SearchBar({ onSubmit }) {\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleChange = event => {\n    setSearchValue(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchValue.trim() === '') {\n      toast.error('Вы ничего не ищете ;)');\n      return;\n    }\n\n    onSubmit(searchValue);\n    setSearchValue('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"searchValue\"\n          value={searchValue}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSearch: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  largeImageURL,\n  webformatURL,\n  tags,\n  onShowLargeImage,\n}) => {\n  const handleOpenLargeImage = () => {\n    onShowLargeImage(largeImageURL);\n  };\n\n  return (\n    <li className={s.imageGalleryItem}>\n      <img\n        className={s.imageGalleryItemImage}\n        url={largeImageURL}\n        src={webformatURL}\n        alt={tags}\n        onClick={handleOpenLargeImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onShowLargeImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ hits, onShowLargeImage }) => {\n  return (\n    <ul className={s.imageGallery}>\n      {hits.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          onShowLargeImage={onShowLargeImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PacmanLoader from 'react-spinners/PacmanLoader';\nimport PropTypes from 'prop-types';\n\nexport default function Loader({ loading }) {\n  return (\n    <div className=\"sweet-loading\">\n      <PacmanLoader size={20} color=\"#303f9f\" loading={loading} />\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  loading: PropTypes.bool,\n};\n","import React from 'react';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.boxButton}>\n      <button type=\"button\" className={s.button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, onOpenLargeImage }) {\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleOverlayClick}>\n      <div className={s.modal}>\n        <img src={onOpenLargeImage} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onOpenLargeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func,\n};\n","const apiKey = '16340198-dc2f265d0add10e2fffcbdf49';\nconst apiUrl = 'https://pixabay.com/api/';\n\nfunction fetchHits(searchQuery, page) {\n  return fetch(\n    `${apiUrl}?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => response.json());\n}\n\nconst apiService = {\n  fetchHits,\n};\n\nexport default apiService;\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport apiService from './apiService/apiService';\nimport s from './App.module.css';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [hits, setHits] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!searchQuery || !page) {\n      return;\n    }\n    setLoading(true);\n\n    apiService\n      .fetchHits(searchQuery, page)\n      .then(data => {\n        setHits(prevState => [...prevState, ...data.hits]);\n      })\n      .catch(error => console.error(error))\n      .finally(() => {\n        setLoading(false);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  }, [searchQuery, page]);\n\n  const handleFormSubmit = query => {\n    if (searchQuery !== query) {\n      setSearchQuery(query);\n      setHits([]);\n      setPage(1);\n    }\n  };\n\n  const handleAddPage = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleShowLargeImage = largeImageURL => {\n    setShowModal(true);\n    setLargeImage(largeImageURL);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const buttonIsVisible = hits.length > 0 && !loading;\n\n  return (\n    <div className={s.app}>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery hits={hits} onShowLargeImage={handleShowLargeImage} />\n      <div className={s.boxSpinner}>\n        <Loader loading={loading} />\n      </div>\n      {buttonIsVisible && <Button onClick={handleAddPage} />}\n      {showModal && (\n        <Modal onOpenLargeImage={largeImage} onClose={toggleModal} />\n      )}\n      <ToastContainer />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2kPTe\",\"SearchForm\":\"Searchbar_SearchForm__2O2am\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3YS_a\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__16G-t\",\"SearchFormInput\":\"Searchbar_SearchFormInput__WzK37\"};"],"sourceRoot":""}